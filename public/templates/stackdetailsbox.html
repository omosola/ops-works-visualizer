 <div class="stack-details-box">
    
      <div class="stack-visualization">
        
          <!-- Visualization Title -->
          <div class="title">{{selectedStack.name}}</div>

          <!-- ELBs -->
          <div ng-repeat="elb in selectedStack.elbs" class="elb visualization-layer" ng-show="elb.checked">

            <div class="info">
              <div class="instances">
                <div class="elb-instance instance">
                    ELB: {{elb.name}}
                </div>
              </div>
            </div>

              <div class="layer-header">
                  <div class="layer-title">{{elb.name}}</div>
              </div>
          </div>

          <!-- Layers -->
          <div ng-repeat="layer in selectedStack.layers" class="layer visualization-layer" ng-show="layer.checked">

              <!-- TODO: Use a conditional statement to set the class instead of including instance.status as the class, otherwise it makes the connection between the CSS selectors and instance status more opaque -->
              <!-- Layer: Info -->
              <div class="info">
                  <div class="instances">
                      <div ng-repeat="instance in layer.instances" class="instance {{instance.status}}" ng-show="instanceIsVisible(instance)">
                          <div class="hostname">{{instance.hostname}}</div>
                          <div ng-repeat="property in optionalInstanceProperties" ng-show="propertyIsVisible(property)" class="property">&nbsp;{{instance[property]}}</div>
                      </div>
                  </div>
              </div><!-- end of info -->

              <!-- Layer: Title -->
              <div class="layer-header">
                  <div class="layer-title">{{layer.name}}</div>
              </div>

          </div>
      </div>

    <stack-sidebar/>

  </div>
  